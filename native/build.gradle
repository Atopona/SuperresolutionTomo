plugins {
    id 'java'
}

group = 'io.homo.SuperResolution'
version = '0.0.1-alpha.1'

repositories {
    mavenCentral()
}

dependencies {
}

tasks.named('clean') {
    doFirst {
        delete "${projectDir}/cpp/build"
        delete "${projectDir}/cpp/output"
    }
}

tasks.register('copyNativeLib', Copy) {
    from("${projectDir}/cpp/output/lib") {
        include "*.so", "*.dll", "*.dylib"
        duplicatesStrategy DuplicatesStrategy.INCLUDE
    }
    into "${projectDir}/../common/src/main/resources/lib/"

    from("${projectDir}/cpp/output/bin") {
        include "*.so", "*.dll", "*.dylib"
        duplicatesStrategy DuplicatesStrategy.INCLUDE
    }
    into "${projectDir}/../common/src/main/resources/lib/"
}
